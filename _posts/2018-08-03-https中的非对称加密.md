---
layout: post
title: https中的非对称加密
description: 了解https是如何实现非对称加密的
categories:
 - http 
tags: 
 - [ssl]
---



## 什么是非对称加密

  非对称加密是一种使用公钥和私钥加密的保密算法，公钥与私钥是一对，如果用公钥对数据进行加密，只有用对应的私钥才能解密。因为加密和解密使用的是两个不同的密钥，所以这种算法叫作非对称加密算法。


### 对称加密

  与非对称加密相对应的就是对称加密，解密与加密都使用同一个密钥。

## 为什么需要非对称加密

  以前在浏览器与服务器通信的过程中使用的是HTTP，HTTP的特性是明文传输，因此在传输的每一个环节，数据都有可能被第三方窃取或者篡改，具体来说，HTTP 数据经过 TCP 层，然后经过WIFI路由器、运营商和目标服务器，这些环节中都可能被中间人拿到数据并进行篡改，这就是常说的中间人攻击。
  
  为了防范这种攻击，不得不引入新的加密方案HTTPS，非对称加密就是HTTPS的核心加密方式。我们先通过非对称加密获取到一个客户端和服务端都有的密钥，然后再通过这个密钥进行对称加密，减轻服务器的压力。


## https的非对称加密是如何实现的

  首先需要一个第三方认证机构（CA认证），确保公钥的合法性（即证书，不合法的证书浏览器会警告），然后利用非对称加密（公钥私钥）方式加密并传输共享密钥到服务器，可以确保共享密钥无法被拦截被获取到（共享密钥被公钥加密了，只有对应的私钥才能解密，服务器有私钥），最终的客户端和服务端 HTTP 传输就是使用共享秘钥加密进行通信。


  ![https](/assets/images/2017/https.png)

  