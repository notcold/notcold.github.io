---
layout: post
title: XSS攻击
description: web安全防护
categories:
  - 安全
tags:
  - XSS

image: assets/images/2bis.jpg

---

1. 什么是 XSS 攻击

XSS 全称是 Cross Site Scripting，翻译过来就是“跨站点脚本攻击”，XSS 攻击是指黑客在页面中注入恶意脚本，
从而在用户浏览页面时利用注入脚本对用户试试攻击的方式。

由于页面本身支持第三方资源引入，所以无法区分脚本是恶意的还是正常的。

- 可以窃取 cookie 信息。恶意的 js 脚本可以访问浏览器中的用户 cookie 并通过请求将数据发送到恶意服务器。恶意服务器就能通过获取到的数据模拟用户登录，对用户账号进行操作。
- 监听用户行为。恶意脚本可以通过浏览器 api 添加键盘监听事件，获取用户输入的关键信息。
- 可以通过修改 dom 伪造假的表单界面，欺骗用户输入个人数据
- 可以在页面内强行添加广告信息

  2.恶意脚本是如何被注入的

通常情况下主要有存储型 XSS 攻击，反射型 XSS 攻击和基于 DOM 的 XSS 攻击三种方式来注入恶意脚本。

1.      存储型XSS攻击

- 黑客通过网站漏洞将恶意代码存储到网站数据中。
- 用户在页面访问时请求到了还有恶意脚本代码的页面

2.      反射型XSS攻击
            在反射型XSS攻击中，恶意脚本是属于用户发送给网站请求中的一部分，随后又被网站转发给了用户。当js脚本在用户页面执行时，黑客就可以进行恶意操作。

3.      基于DOM的XSS攻击
             主要是用户的网络请求被劫持，黑客修改了返回的html内容，从而将恶意脚本添加到用户访问内容中。

3.如何阻止 XSS 攻击
  
 1.服务器对输入脚本进行过滤和转码

    2.充分利用csp
        限制加载其他域的资源
        禁止向第三方提交输入
        禁止执行内联脚本

3 . cookie 策略添加 HttpOnly 属性
使用 HttpOnly 属性的 cookie 无法被 js 脚本读取，从而防止恶意脚本获取到用户信息
