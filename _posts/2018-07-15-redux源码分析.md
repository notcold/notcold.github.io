---
title: Redux源码分析
description: 对Redux功能核心实现做一些解读
categories:
 - Javascript
tags: 
 - 源码
---


##createStore方法

createStore 创建 store
    subscribe redux插件通过该方法监听state变化， 例如saga监听对应的action操作
    
    
##applyMiddleware
applyMiddleware 把中间件与store绑定 ，在dispatch的时候会让action流过中间件
```js
//核心方法，dispat方法会让action流过所有绑定的reducer，以及applyMiddleware添加的中间件
function dispatch(action) {
    if (!isPlainObject(action)) {
      throw new Error(
        'Actions must be plain objects. ' +
        'Use custom middleware for async actions.'
      )
    }

    if (typeof action.type === 'undefined') {
      throw new Error(
        'Actions may not have an undefined "type" property. ' +
        'Have you misspelled a constant?'
      )
    }

    if (isDispatching) {
      throw new Error('Reducers may not dispatch actions.')
    }

    try {
      isDispatching = true
      currentState = currentReducer(currentState, action)
    } finally {
      isDispatching = false
    }

    var listeners = currentListeners = nextListeners
    for (var i = 0; i < listeners.length; i++) {
      listeners[i]()
    }

    return action
  }

```